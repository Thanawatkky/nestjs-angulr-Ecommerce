<div class="container">
    <div class="mt-8 sm:mx-6 md:mx-4 lg:ms-2 2xl:ms-80">
        <h1>History</h1>
        <div class="grid sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 ">
            <div class="border  grid grid-cols-2 p-8 m-2 rounded-md">
                <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" fill="currentColor" class="bi bi-box text-purple-400" viewBox="0 0 16 16">
                    <path d="M8.186 1.113a.5.5 0 0 0-.372 0L1.846 3.5 8 5.961 14.154 3.5zM15 4.239l-6.5 2.6v7.922l6.5-2.6V4.24zM7.5 14.762V6.838L1 4.239v7.923zM7.443.184a1.5 1.5 0 0 1 1.114 0l7.129 2.852A.5.5 0 0 1 16 3.5v8.662a1 1 0 0 1-.629.928l-7.185 2.874a.5.5 0 0 1-.372 0L.63 13.09a1 1 0 0 1-.63-.928V3.5a.5.5 0 0 1 .314-.464z"/>
                  </svg>
                  <a href="/user/history">
                  <div class="text-center">
                      <p>Total Order</p>

                      <p class="text-center">{{ dataOrder.length }}</p>
                  </div>
                </a>
            </div>
            <div class="border  grid grid-cols-2  text-center p-8 m-2 rounded-md">
                <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" fill="currentColor" class="bi bi-boxes text-green-400" viewBox="0 0 16 16">
                    <path d="M7.752.066a.5.5 0 0 1 .496 0l3.75 2.143a.5.5 0 0 1 .252.434v3.995l3.498 2A.5.5 0 0 1 16 9.07v4.286a.5.5 0 0 1-.252.434l-3.75 2.143a.5.5 0 0 1-.496 0l-3.502-2-3.502 2.001a.5.5 0 0 1-.496 0l-3.75-2.143A.5.5 0 0 1 0 13.357V9.071a.5.5 0 0 1 .252-.434L3.75 6.638V2.643a.5.5 0 0 1 .252-.434zM4.25 7.504 1.508 9.071l2.742 1.567 2.742-1.567zM7.5 9.933l-2.75 1.571v3.134l2.75-1.571zm1 3.134 2.75 1.571v-3.134L8.5 9.933zm.508-3.996 2.742 1.567 2.742-1.567-2.742-1.567zm2.242-2.433V3.504L8.5 5.076V8.21zM7.5 8.21V5.076L4.75 3.504v3.134zM5.258 2.643 8 4.21l2.742-1.567L8 1.076zM15 9.933l-2.75 1.571v3.134L15 13.067zM3.75 14.638v-3.134L1 9.933v3.134z"/>
                </svg>
                <a href="/user/history/active">
                    <div class="text-center">

                        <p>Active Order</p>
                        <p class="text-center">{{ countAtiveOrder }}</p>
                    </div>
                </a>
            </div>
            <div class="border border-red grid grid-cols-2  text-center p-8 m-2 rounded-md">
                <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" fill="currentColor " class="bi bi-check-circle text-blue-400" viewBox="0 0 16 16">
                    <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"/>
                    <path d="m10.97 4.97-.02.022-3.473 4.425-2.093-2.094a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-1.071-1.05"/>
                  </svg>
                  <a href="/user/history/complete">
                    <div class="text-center">

                        <p>Completed</p>
                        <p class="text-center">{{ countCompleteOrder }}</p>
                    </div>
                  </a>
            </div>
            <div class="border border-red grid grid-cols-2 text-center p-8 m-2 rounded-md">
                <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" fill="currentColor" class="bi bi-x-circle text-red-400" viewBox="0 0 16 16">
                    <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"/>
                    <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708"/>
                  </svg>
                  <a href="/user/history/canceled">
                  <div class="text-center">

                      <p>Canceled</p>
                      <p class="text-center">{{ countCancelOrder }}</p>
                  </div>
                </a>
            </div>
        </div>
        @for (data of dataOrder; track $index) {
            @if (param || param !== undefined) {
           @if (param === 1) {
            @if(data.ca_order.order_status < 3) {
                <div class="border grid sm:grid-cols-1 md:grid-cols-4 p-8 rounded-md mt-6">
                    <img ngSrc="{{ data.ca_product.pro_img }}" class="mx-3 object-cover scale-75" alt="Product in order" width="300" height="300" disableOptimizedSrcset priority>
                    <div class="md:text-start my-auto mx-auto sm:text-center">
                        <p>{{data.ca_product.pro_name}}</p>
                        <p>{{data.ca_product.pro_detail}}</p>
                    </div>
                    <div class="text-center my-auto mx-auto">
                        @if (data.ca_order.order_status === null || data.ca_order.order_status === 1 || data.ca_order.order_status === 2) {
        
                            <h3 class="text-orange-400">{{ order_status(data.ca_order.order_status) }}</h3>
                        }@else {
                            <h3 class="text-green-400">{{ order_status(data.ca_order.order_status) }}</h3>
        
                        }
                        
                    </div>
                    <div class="text-center my-auto mx-auto">
                        <p>{{ data.ca_order.total_price }} THB.</p>
                        
                    </div>
                </div>
                    }@else {
                        @if ($index+1 === 1) {
                            <h4 class="text-center mt-10 py-20">Order Not Found!</h4>
                        }
                    }
           }@else {
            @if(data.ca_order.order_status === param) {
                    <div class="border grid sm:grid-cols-1 md:grid-cols-4 p-8 rounded-md mt-6">
                        <img ngSrc="{{ data.ca_product.pro_img }}" class="mx-3 object-cover scale-75" alt="Product in order" width="300" height="300" disableOptimizedSrcset priority>
                        <div class="md:text-start my-auto mx-auto sm:text-center">
                            <p>{{data.ca_product.pro_name}}</p>
                            <p>{{data.ca_product.pro_detail}}</p>
                        </div>
                        <div class="text-center my-auto mx-auto">
                            @if (data.ca_order.order_status === null || data.ca_order.order_status === 1 || data.ca_order.order_status === 2) {
            
                                <h3 class="text-orange-400">{{ order_status(data.ca_order.order_status) }}</h3>
                            }@else {
                                <h3 class="text-green-400">{{ order_status(data.ca_order.order_status) }}</h3>
            
                            }
                            
                        </div>
                        <div class="text-center my-auto mx-auto">
                            <p>{{ data.ca_order.total_price }} THB.</p>
                            
                        </div>
                    </div>
                }
                @if (param === 3) {
                    @if(countCompleteOrder === 0) {
                        @if ($index+1 === 1) {
                            <h4 class="text-center mt-10 py-20">Order Not Found!</h4>
                    }
                    }
                }
                @if (param === 9999) {
                    @if(countCancelOrder === 0) {
                        @if ($index+1 === 1) {
                            <h4 class="text-center mt-10 py-20">Order Not Found!</h4>
                    }
                    }
                }
                
           }
        }@else {
            <div class="border grid sm:grid-cols-1 md:grid-cols-4 p-8 rounded-md mt-6">
                <img ngSrc="{{ data.ca_product.pro_img }}" class="mx-3 object-cover scale-75" alt="Product in order" width="300" height="300" disableOptimizedSrcset priority>
                <div class="md:text-start my-auto mx-auto sm:text-center">
                    <p>{{data.ca_product.pro_name}}</p>
                    <p>{{data.ca_product.pro_detail}}</p>
                </div>
                <div class="text-center my-auto mx-auto">
                    @if (data.ca_order.order_status === null || data.ca_order.order_status === 1 || data.ca_order.order_status === 2) {
    
                        <h3 class="text-orange-400">{{ order_status(data.ca_order.order_status) }}</h3>
                    }@else {
                        <h3 class="text-green-400">{{ order_status(data.ca_order.order_status) }}</h3>
    
                    }
                    
                </div>
                <div class="text-center my-auto mx-auto">
                    <p>{{ data.ca_order.total_price }} THB.</p>
                    
                </div>
            </div>
        }
    }
    </div>
</div>